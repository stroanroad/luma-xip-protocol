# XIP-0001: Luma Audit Receipt Base Standard

- **Title:** Luma Audit Receipt Base Standard  
- **Identifier:** XIP-0001  
- **Version:** 1.0.0-alpha  
- **Status:** Draft  
- **Author:** Daniel O’Connor (Luma Connect)  
- **Scope:** Government, Finance, Health/Cannabis, Utilities, Justice,
  Rescue Ops, Creative and other Luma Core hubs.

---

## 1. Purpose

XIP-0001 defines the **canonical structure** for an **audit receipt** emitted
by any Luma Core hub. A compliant hub:

- Emits a receipt for every important workflow step.  
- Hash-chains receipts to form a tamper-evident log.  
- Can anchor receipts and/or their hashes to a national ledger, CBDC,
  XRPL/Ripple, or other DLT.

XIP-0001 is **hub-agnostic**: the same receipt structure is used for
Government, Finance, Health/Cannabis, Utilities, Justice, Rescue Ops and
other hubs, with different `event_type` values.

---

## 2. Receipt fields (normative)

A valid XIP-0001 receipt **MUST** contain the following top-level fields:

- `receipt_id` – Globally unique identifier (UUID or ULID).  
- `prev_receipt_hash` – Hash of the previous receipt in the local chain
  (nullable for the first receipt).  
- `chain_id` – Identifier of the local chain (e.g. hub, tenant, device).  
- `event_type` – Event classification (see §3).  
- `event_ts` – ISO 8601 timestamp of the event.  
- `issued_ts` – ISO 8601 timestamp when the receipt was created.  
- `actor` – Pseudonymised actor descriptor (see §4).  
- `subject_ref` – Reference to the subject of the event (case ID, patient ID,
  invoice ID, etc.), which may be hashed.  
- `jurisdiction` – Country/region code (e.g. `GB-NIR`).  
- `payload` – Structured event payload (see §5).  
- `integrity` – Integrity block (hashes, signatures).  
- `routing` – Optional routing hints (CBDC, XRPL, bank, mesh).  
- `meta` – Optional free-form metadata (key-value).

See `schema/xip-receipt-v1.json` for the formal JSON Schema.

---

## 3. Event types

The `event_type` field defines **what kind of event** the receipt represents.

Examples (non-exhaustive):

- `gov.case.opened`  
- `gov.case.updated`  
- `gov.payment.disbursement`  
- `finance.invoice.issued`  
- `finance.invoice.paid`  
- `finance.tax.reported`  
- `health.prescription.issued`  
- `health.consultation.recorded`  
- `cannabis.order.fulfilled`  
- `utilities.meter.reading`  
- `rescue.incident.logged`

Implementations **SHOULD** use a consistent dot-separated namespace.

---

## 4. Actor representation

The `actor` object describes **who** performed the action, without exposing
unnecessary personal data.

Recommended fields:

- `role` – e.g. `doctor`, `pharmacist`, `case_worker`, `citizen`, `system`.  
- `entity_id` – Pseudonymous or hashed identifier.  
- `org_id` – Identifier for the organisation (e.g. clinic, department).  
- `auth_context` – Optional description of authentication context (e.g.
  `smartcard`, `oauth2`, `hardware-token`, `offline-signed`).

Actors **MUST NOT** include plain-text i
